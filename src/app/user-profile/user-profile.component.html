<div class="popup-overlay">
  @if (popupShown) {
  <div class="popup">
    <div class="container center-container">
      <h2 class="text-center">Actualizar</h2>
      <p>
        Nombre
        <input
          type="text"
          [(ngModel)]="userTemplate.firstName"
          name="firstName"
          id="firstName"
          placeholder="nombre"
          style="margin-left: 4%"
          class="inputPopup"
        />
      </p>
      <p>
        Apellido
        <input
          type="text"
          [(ngModel)]="userTemplate.lastName"
          name="lastName"
          id="lastName"
          placeholder="Apellido"
          style="margin-left: 4%"
          class="inputPopup"
        />
      </p>
      <p>
        Email
        <input
          type="text"
          [(ngModel)]="userTemplate.email"
          name="Email"
          placeholder="email@email.com"
          style="margin-left: 12%"
          class="inputPopup"
        />
      </p>
      <p>
        Dirección
        <input
          type="text"
          [(ngModel)]="userTemplate.address"
          placeholder="calle test nº1"
          name="address"
          style="margin-left: 1%"
          class="inputPopup"
        />
      </p>
      <p>
        Username
        <input
          type="text"
          [(ngModel)]="userTemplate.username"
          placeholder="username"
          name="userName"
          class="inputPopup"
        />
      </p>
      <button class="btn updateConfirmBtn" (click)="updateUser(userTemplate)">
        Actualizar
      </button>
      <button class="btn updateCancelBtn" (click)="closePopup()">
        Cancelar
      </button>
    </div>
  </div>
  }
</div>

<div class="container py-5">
  <div class="infoUser">
    <img src="../../assets/gato.jpg" class="pfp" />
    <div>{{ user.firstName }} {{ user.lastName }} ({{ user.username }})</div>
    <div>Correo: {{ user.email }}</div>
    <div>Dirección: {{ user.address }}</div>
    <button class="btn updateBtn" (click)="showPopup()">Update</button>
  </div>
  <div class="my-2">
    <h2>Cursos en progreso</h2>

    <div id="carouselExampleIndicators" class="carousel slide">
      <div class="carousel-indicators" style="margin-bottom: -2%">
        <button
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide-to="0"
          class="active"
          aria-current="true"
          aria-label="Slide 1"
        ></button>
        <button
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide-to="1"
          aria-label="Slide 2"
        ></button>
        <button
          type="button"
          data-bs-target="#carouselExampleIndicators"
          data-bs-slide-to="2"
          aria-label="Slide 3"
        ></button>
      </div>
      <div class="carousel-inner carouselContainer">
        @for (course of classes; track indexCaroucel; let indexCaroucel =
        $index) { @if (indexCaroucel < 3) {
        <div class="carousel-item active">
          <tr class="classContainer">
            @for (class of classes; track currentSlide; let indexClasses =
            $index) { @if (indexClasses < currentSlide + 3 && indexClasses >= currentSlide) {
            <td class="classes">
              <h4>
                {{ class.className }}
              </h4>
              <div class="classDescription">
                {{ class.description }}
              </div>
            </td>

            } }
          </tr>
        </div>
        } }
      </div>

      <button
        class="carousel-control-prev"
        style="margin-left: -9%"
        type="button"
        data-bs-target="#carouselExampleIndicators"
        data-bs-slide="prev"
        (click)="changeSlideLeft()"
      >
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
      </button>
      <button
        class="carousel-control-next"
        style="margin-right: -9%"
        type="button"
        data-bs-target="#carouselExampleIndicators"
        data-bs-slide="next"
        (click)="changeSlideRight()"
      >
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
      </button>
    </div>
  </div>
  <div class="my-2 cursos-saved">
    <h2>Cursos guardados</h2>
    <div>
      <tr class="classContainer">
        @for (class of classes; track $index) {
        <td class="classes">
          <h4>
            {{ class.className }}
          </h4>
          <div class="classDescription">
            {{ class.description }}
          </div>
        </td>
        }
      </tr>
    </div>
  </div>
  <div class="my-2">
    <h2>Cursos Completados</h2>
    <div>
      <tr class="classContainer">
        @for (class of classes; track $index) {
        <td class="classes">
          <h4>
            {{ class.className }}
          </h4>
          <div class="classDescription">
            {{ class.description }}
          </div>
        </td>
        }
      </tr>
    </div>
  </div>
</div>
